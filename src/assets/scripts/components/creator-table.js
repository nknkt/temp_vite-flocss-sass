// Alpine.js用のCreatorTableコンポーネント
export default function creatorTable() {
  return {
    creators: [
      {
        id: 1,
        name: 'かずのこ',
  icon: 'assets/images/examples/avatar_img-01.png',
        bgColor: '#1a5184',
        textColor: 'light',
        description:
          '「青くて宇宙飛行士なオリジナルイラスト」をテーマに、2020年から作品を制作しているイラストレーター。宇宙・月・星などのモチーフと日常を掛け合わせた独自の表現に、優しいタッチを織り交ぜたイラストが得意。SNSでのイラスト投稿を中心に活動しており、総フォロワー数は22万人超。2023年9月、中央公論新社より初作品集「青星」を刊行。',
        social: [
          { type: 'instagram', url: 'https://www.instagram.com/kazunoko_kazunoco/' },
          { type: 'x', url: 'https://x.com/kazunoko_zunoco' },
        ],
        officialUrl: '',
        products: [
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-01@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-02@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
        ],
      },
      {
        id: 2,
        name: 'ヤギワタル',
  icon: 'assets/images/examples/avatar_img-02.png',
        bgColor: '#e60012',
        textColor: 'light',
        description:
          'イラストレーター。制作会社勤務後、ライターを経てイラストレーターに転身。親しみやすいイラストやマンガで、書籍や広告を中心に活動中。趣味は旅行。電車や駅のホームから見える景色が好き。',
        social: [
          { type: 'instagram', url: 'https://www.instagram.com/yagiwataru/' },
          { type: 'x', url: 'https://x.com/yagiwataru' },
        ],
        officialUrl: 'https://www.yagiwataru.com/',
        products: [
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-01@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-02@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-03@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
        ],
      },
      {
        id: 3,
        name: 'とーる',
  icon: 'assets/images/examples/avatar_img-03.png',
        bgColor: '#ffdf31',
        textColor: 'dark',
        description:
          '静岡を拠点に活動。ポップでキュートな モンスターのイラストが特徴のイラストレーター。アパレルブランドとコラボアイテムの制作。また有名俳優のグッズデザインを担当するなどさまざまな分野で活動中。',
        social: [
          { type: 'instagram', url: 'https://www.instagram.com/tooru__inksplotch716/' },
          { type: 'x', url: 'https://x.com/toru_inksplotch?s=21&t=bUGOfhQg_NZwUQrm38lkwA' },
        ],
        officialUrl: '',
        products: [
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-01@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-02@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-03@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
        ],
      },
      {
        id: 4,
        name: 'イクタケマコト',
  icon: 'assets/images/examples/avatar_img-04.png',
        bgColor: '#92cdf1',
        textColor: 'light',
        description:
          'イラストレーター。いろんなものをいっぱい詰め込んだ、みんなが楽しめるイラストを描いています。新横浜駅、福井駅、JICA横浜、横浜市黄金町、三井住友建設本社に壁画設置しています。',
        social: [
          { type: 'instagram', url: 'https://www.instagram.com/m_ikutake2/' },
          { type: 'x', url: 'https://x.com/m_ikutake2' },
        ],
        officialUrl: 'https://ikutake.wixsite.com/makoto-ikutake',
        products: [
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-01@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-02@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-03@1.25x.jpg',
          },
        ],
      },
      {
        id: 5,
        name: 'nishimo',
  icon: 'assets/images/examples/avatar_img-05.png',
        bgColor: '#59aa31',
        textColor: 'light',
        description:
          'インテリア業界での経験を活かし、現在はフリーランスのデザイナー／イラストレーターとして活動中。屋号「E.O.FABRIC」で自然や日常の景色から着想を得たパターンイラストを制作し、布小物や雑貨へ展開している。',
        social: [
          { type: 'instagram', url: 'https://www.instagram.com/oyatsu0703/' },
          { type: 'x', url: 'https://x.com/and_oyatsu' },
        ],
        officialUrl: 'https://nishimo-082.studio.site/',
        products: [
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/examples/product_card_image-01@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-02@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
          {
            title: '商品名が入ります商品名が入ります\n商品名が入ります',
            price: '2,200',
            image: 'assets/images/product_card_image-03@1.25x.jpg',
          },
        ],
      },
    ],

    // SNSアイコンの定義
    socialIcons: {
      instagram: 'assets/images/ico_instagram.png',
      x: 'assets/images/ico_x.png',
    },

    // 商品数を4桁の数字でフォーマット
    formatProductCount(creator) {
      return creator.products.length.toString().padStart(4, '0')
    },

    // SNSアイコンのパスを取得
    getSocialIcon(type) {
      return this.socialIcons[type] || ''
    },

    // 改行文字をHTMLのbrタグに変換
    formatTitle(title) {
      return title.replace(/\n/g, '<br>')
    },

    // alt属性用に改行文字を削除
    formatAltText(title) {
      return title.replace(/\n/g, '')
    },

    // コンポーネント初期化時の処理
    init() {
      // 重複初期化を防ぐためのフラグチェック
      if (window.creatorTableInitialized) {
        return
      }

      window.creatorTableInitialized = true

      // 横スクロール用のクラスを適用
      this.$nextTick(() => {
        setTimeout(() => {
          this.applyHorizontalScrollClasses()
        }, 100)
      })
    },

    // 横スクロールクラスの適用
    applyHorizontalScrollClasses() {
      this.creators.forEach(creator => {
        if (creator.products.length >= 4) {
          const creatorSection = document.getElementById(`creator-${creator.id}`)
          if (creatorSection) {
            const container = creatorSection.querySelector('.p-creator-detail__products-container')
            if (container) {
              container.classList.add('js-horizontal-scroll')
            }
          }
        }
      })
    },
  }
}
